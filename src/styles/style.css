@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono&family=Roboto:wght@300&display=swap');
.h5p-advanced-blanks {
    position: relative;
}

/* Text */

.h5p-advanced-blanks #h5p-cloze-container p,
.h5p-advanced-blanks #h5p-cloze-container div {
    line-height: 1.8em;
    margin: 0 0 1em;
    text-align: justify;
}

@media only screen and (min-width: 480px) {
    .h5p-advanced-blanks #h5p-cloze-container p,
    .h5p-advanced-blanks #h5p-cloze-container div {
        text-align: unset;
    }
}

/* Input */

.h5p-advanced-blanks .h5p-input-wrapper {
    display: inline-block;
    position: relative;
}

.h5p-advanced-blanks .blank .h5p-text-input {
    font-family: 'Roboto Mono', 'Lucida Console', Courier, monospace;
    font-size: 1em;
    border-radius: 0.25em;
    border: 1px solid #a0a0a0;
    padding: 0.1875em 0.2em 0.1875em 0.5em;
    text-overflow: ellipsis;
    overflow: hidden;
}

.h5p-advanced-blanks .blank input.h5p-text-input {
  max-width: calc(100vw - 64px);
}

.h5p-advanced-blanks .blank select.h5p-text-input {
  max-width: calc(100vw - 36px);
}

/* IE + Chrome specific fixes */

.h5p-text-input::-ms-clear {
    display: none;
}

:not(.correct).blank.has-tip button {
    cursor: pointer;
}

:not(.has-tip).blank.has-tip button {
    cursor: pointer;
    display: none;
}


/* Select mode */

select.h5p-text-input {
    appearance: button;
    -moz-appearance: none;
    -webkit-appearance: button;
}


/* Showing solution input */

.h5p-advanced-blanks .blank.showing-solution .h5p-text-input {
    border: 1px dashed #9dd8bb;
    color: #255c41;
    background: #FFFFFF;
}


/* Focussed input */

.h5p-advanced-blanks .blank .h5p-text-input:focus {
    outline: none;
    box-shadow: 0 0 0.5em 0 #7fb8ff;
    border-color: #7fb8ff;
}

/* Correctly answered input */

.h5p-advanced-blanks .blank.correct .h5p-text-input {
    background: #9dd8bb;
    background: #9dd8bb70;
    border: 1px solid #9dd8bb;
    color: #255c41;
}

.h5p-advanced-blanks .blank.correct .h5p-input-wrapper:after {
    position: absolute;
    right: 0px;    
    transform: translateY(-50%);
    text-decoration: none;
    content: "\f00c";
    font-family: 'H5PFontAwesome4';
    color: #255c41;
    top:5px;
}

/* Spelling errors */

.h5p-advanced-blanks .blank.retry .h5p-text-input {
    background-color: #ffff99;
    border: 1px solid #ffff99;
    color: black;
}

/* Incorrect answers */

.h5p-advanced-blanks .blank.error .h5p-text-input {
    background-color: #f7d0d0;
    border: 1px solid #f7d0d0;
    color: #b71c1c;
    text-decoration: line-through;
}

.h5p-advanced-blanks .blank.error .h5p-input-wrapper:after,
.h5p-advanced-blanks .blank.retry .h5p-input-wrapper:after,
.h5p-advanced-blanks .blank.has-tip.error .h5p-input-wrapper:after,
.h5p-advanced-blanks .blank.has-tip.retry .h5p-input-wrapper:after {
    position: absolute;
    right: 0px;
    top: 5px;
    transform: translateY(-50%);
    font-family: 'H5PFontAwesome4';
    text-decoration: none;
    content: "\f00d";
    color: #b71c1c;
}

.h5p-advanced-blanks .blank.has-tip.error .h5p-input-wrapper:after,
.h5p-advanced-blanks .blank.has-tip.retry .h5p-input-wrapper:after {
    right: 1.4em;
}

/* Buttons */

.h5p-advanced-blanks .blank button {
    padding-left: 5px;
    padding-right: 5px;
    border: none;
    background: none;
}

/* Highlight in spelling mistake marker */

.spelling-mistake .missing-character,
.spelling-mistake .mistaken-character {
    color: red;
    font-weight: bold;
    animation-duration: 500ms;
    animation-name: blink-color;
    animation-iteration-count: 13;
    animation-direction: alternate;
}

@keyframes blink-color {
    from {
        color: initial;
    }
    to {
        color: red;
    }
}

.spelling-mistake .mistaken-character {
    text-decoration: line-through;
}


/* Highlights in text */

.h5p-advanced-blanks .highlighted {
    background-color: rgba(255, 0, 0, 0.2);
    animation-duration: 1000ms;
    animation-name: blink-background-color;
    animation-iteration-count: 3;
    animation-direction: alternate;
}

.h5p-advanced-blanks .highlighted.unpaired {
    background-color: yellow;
    animation-duration: 1000ms;
    animation-name: blink-background-color-unpaired;
    animation-iteration-count: 15;
    animation-direction: alternate;
}


@keyframes blink-background-color {
    from {
        background-color: initial;
    }
    to {
        background-color: rgba(255, 0, 0, 0.2);
    }
}

@keyframes blink-background-color-unpaired {
    from {
        background-color: initial;
    }
    to {
        background-color: yellow;
    }
}

/* Others */

/* Tips */
/* papi Jo position tip in the top right corner */

.h5p-advanced-blanks .h5p-tip-container {
  position: absolute;
  transform: translate(-50%, -50%);
}
/* NOT USED?
.h5p-advanced-blanks .blank.has-tip:not(.correct):not(.error):not(.retry):not(.showing-solution) .h5p-text-input {
    padding-right: 2.25em;
}

/* Do not display tips when blank is correct OR showing solutions */
.h5p-advanced-blanks .showing-solution .h5p-tip-container,
.h5p-advanced-blanks .correct .h5p-tip-container {
  display: none;  
}
*/
/* improves appearance of h5p tip shadows */
.h5p-advanced-blanks .joubel-icon-tip-normal .h5p-icon-shadow:before {
  color: black;
  opacity: 0.13;
}

/* pending feedback marker */

.h5p-advanced-blanks .blank:not(.has-pending-feedback) button.h5p-notification {
    display: none;
}

.h5p-advanced-blanks .blank.has-pending-feedback button.h5p-notification {
    font-size: large;
    cursor: help;
}

.h5p-advanced-blanks .blank.has-pending-feedback button.h5p-notification,
.h5p-advanced-blanks .blank.has-pending-feedback .h5p-input-wrapper:before {
    font-family: 'H5PFontAwesome4';
    text-decoration: none;
    animation: shake 3s cubic-bezier(.36, .07, .19, .97) reverse;
    animation-iteration-count: 2;
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    perspective: 1000px;
}

.h5p-advanced-blanks .blank.error.has-pending-feedback button.h5p-notification,
.h5p-advanced-blanks .blank.error.has-pending-feedback .h5p-input-wrapper:before {
    color: #b71c1c;
}

.h5p-advanced-blanks .blank.retry.has-pending-feedback button.h5p-notification,
.h5p-advanced-blanks .blank.retry.has-pending-feedback .h5p-input-wrapper:before {
    color: #ffff00;
    text-shadow: 0px 0px 0.5em black;
}
/* papi Jo color green for correct answer feedback button */
.h5p-advanced-blanks .blank.correct.has-pending-feedback button.h5p-notification,
.h5p-advanced-blanks .blank.correct.has-pending-feedback .h5p-input-wrapper:before {
    color: #267d53;
}

.h5p-advanced-blanks .hide {
  display: none;
}

@keyframes shake {
    2%,
    20% {
        transform: translate3d(-0.5px, 0, 0);
    }
    4%,
    17% {
        transform: translate3d(1px, 0, 0);
    }
    6%,
    10%,
    15% {
        transform: translate3d(-2px, 0, 0);
    }
    9%,
    13% {
        transform: translate3d(2px, 0, 0);
    }
}